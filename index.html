<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Xinjie Hu - Technical Artist & Full Stack Developer">
        <meta name="author" content="Xinjie Hu">

        <!-- Favicon -->
        <link rel="shortcut icon" type="image/x-icon" href="assets/images/icons/favicon.ico">

        <!-- Font Awesome for icons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        <!-- Main Stylesheet -->
        <link rel="stylesheet" href="assets/css/main-style.css">
        <link rel="stylesheet" href="assets/css/blog.css">

        <!-- Widget Profile Component -->
        <script src="assets/components/widget-profile.js"></script>
        <!-- Marked.js for Markdown parsing -->
        <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    </head>

    <body>
        <!-- Sidebar Component Container -->
        <div id="widget-profile-container"></div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Navigation -->
            <nav>
                <ul class="nav__list">
                    <li class="nav__item">
                        <a href="#profile" class="nav__link">
                            <i class="fa fa-user"></i>
                            <span>Profile</span>
                        </a>
                    </li>
                    <li class="nav__item">
                        <a href="#portfolio" class="nav__link active">
                            <i class="fa fa-briefcase"></i>
                            <span>Portfolio</span>
                        </a>
                    </li>
                    <li class="nav__item">
                        <a href="#about" class="nav__link">
                            <i class="fa fa-heart"></i>
                            <span>About</span>
                        </a>
                    </li>
                    <li class="nav__item">
                        <a href="#blog" class="nav__link">
                            <i class="fa fa-book"></i>
                            <span>Blog</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <!-- Content Sections -->
            <div class="content-sections">

                <!-- Profile Section -->
                <section id="profile" class="content-section">

                    <!-- Experience -->
                    <div class="experience-section">
                        <div class="text_content">PROFESSIONAL EXPERIENCE</div>
                        <ul class="attributes">
                             <li>
                                <h5>
                                    <span class="duration">2025/01 - Present</span>
                                    <div class="title-content">
                                        <div class="title-with-icon">
                                            <span class="fa fa-briefcase"></span>
                                            <span>Indie Full Stack Developer @ Abu Dhabi, UAE</span>
                                        </div>
                                        <p>•<span style="margin-left: 12px;"/>Independently built and launched a WeChat Mini Program for Chinese community in UAE</p>
                                        <p>•<span style="margin-left: 12px;"/>Independently built a Chrome Extension for Notion Database Visualization</p>
                                    </div>
                                </h5>
                            </li>
                            <li>
                                <h5>
                                    <span class="duration">2022/11 - 2024/12</span>
                                    <div class="title-content">
                                        <div class="title-with-icon">
                                            <span class="fa fa-briefcase"></span>
                                            <span>Motion Technical Director  @  miHoYo, Shanghai, China</span>
                                        </div>
                                        <p>•<span style="margin-left: 12px;"/>Developed and automated AI model training process with distributed computing cluster, achieving 20x iteration speed improvement</p>
                                        <p>•<span style="margin-left: 12px;"/>Optimized model algorithms with feature engineering for production requirements</p>
                                        <p>•<span style="margin-left: 12px;"/>Integrated MLflow for training and deployment tracking</p>
                                        <p>•<span style="margin-left: 12px;"/>Implemented data validation and version control for model integrity</p>
                                    </div>
                                </h5>
                            </li>
                            
                            <li>
                                <h5>
                                    <span class="duration">2021/08 - 2022/11</span>
                                    <div class="title-content">
                                        <div class="title-with-icon">
                                            <span class="fa fa-briefcase"></span>
                                            <span>Pipeline Technical Director  @  miHoYo, Shanghai, China</span>
                                        </div>
                                        <p>•<span style="margin-left: 12px;"/>Implemented automation pipeline for motion capture data processing</p>
                                        <p>•<span style="margin-left: 12px;"/>Developed cross-team production pipelines using Shotgun and Rez packages</p>
                                        <p>•<span style="margin-left: 12px;"/>Designed distributed computing cluster workflow with Kafka</p>
                                        <p>•<span style="margin-left: 12px;"/>Developed delivery system with auto notifications</p>
                                        <p>•<span style="margin-left: 12px;"/>Created specialized Unreal Engine launcher with Git CI/CD automation</p>
                                    </div>
                                </h5>
                            </li>

                            <li>
                                <h5>
                                    <span class="duration">2017/07 - 2021/07</span>
                                    <div class="title-content">
                                        <div class="title-with-icon">
                                            <span class="fa fa-briefcase"></span>
                                            <span>Associate Production Engineer  @  Industrial Light & Magic, Singapore</span>
                                        </div>
                                        <p>•<span style="margin-left: 12px;"/>Provided technical support and developed pipeline tools</p>
                                        <p>•<span style="margin-left: 12px;"/>Implemented render data analytics and visualization with Elasticsearch and Kibana/Grafana</p>
                                        <p>•<span style="margin-left: 12px;"/>Developed Clarisse resource allocation optimization</p>
                                        <p>•<span style="margin-left: 12px;"/>Automated artist workflows with custom 3D tool scripts</p>
                                        <p>•<span style="margin-left: 12px;"/>Projects: Red Notice, Aquaman, Solo: A Star Wars Story, Ready Player One</p>
                                    </div>
                                </h5>
                            </li>
                        </ul>
                    </div>

                    <!-- Education -->
                    <div class="education-section">
                        <div class="text_content">EDUCATION</div>
                        <ul class="attributes">
                            <li class="first">
                                <h5>
                                    <span class="duration">2025/01 - Present</span>
                                    <div class="title-content">
                                        <div class="title-with-icon">
                                            <span class="fa fa-book"></span>
                                            <span>MSE. Data Science  @  University of Pennsylvania, USA</span>
                                        </div>
                                        <p>Specialization: Machine Learning</p>
                                    </div>
                                </h5>
                            </li>

                            <li>
                                <h5>
                                    <span class="duration">2016/07 - 2017/06</span>
                                    <div class="title-content">
                                        <div class="title-with-icon">
                                            <span class="fa fa-book"></span>
                                            <span>MSc. Digital Media Technology  @  Nanyang Technological University, Singapore</span>
                                        </div>
                                        <p>CGPA: 4.00 / 5.00</p>
                                        <p>Specialization: Advanced Computer Graphics</p>
                                    </div>
                                </h5>
                            </li>
                            
                            <li>
                                <h5>
                                    <span class="duration">2012/09 - 2016/06</span>
                                    <div class="title-content">
                                        <div class="title-with-icon">
                                            <span class="fa fa-book"></span>
                                            <span>BSc. Geographic Information System  @  Wuhan University, China</span>
                                        </div>
                                        <p>CGPA: 3.42 / 4.00 (Second Upper Honors)</p>
                                        <p>Specialization: Computer Graphics & Digital Image Processing</p>
                                    </div>
                                </h5>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Certifications -->
                    <div class="certifications-section">
                        <div class="text_content">CERTIFICATIONS</div>
                        <ul class="attributes certifications-list">
                            <li>
                                <h5>
                                    <span class="duration">2024/05</span>
                                    <div class="title-content">
                                        <div class="title-with-icon">
                                            <span class="fa fa-certificate"></span>
                                            <span>Machine Learning Engineering for Production (MLOps) @ DeepLearning.AI on Coursera</span>
                                        </div>
                                    </div>
                                </h5>
                            </li>

                            <li>
                                <h5>
                                    <span class="duration">2024/02</span>
                                    <div class="title-content">
                                        <div class="title-with-icon">
                                            <span class="fa fa-certificate"></span>
                                            <span>Deep Learning Certificate  @  DeepLearning.AI on Coursera</span>
                                        </div>
                                    </div>
                                </h5>
                            </li>

                            <li>
                                <h5>
                                    <span class="duration">2024/01</span>
                                    <div class="title-content">
                                        <div class="title-with-icon">
                                            <span class="fa fa-certificate"></span>
                                            <span>TensorFlow Developer Certificate  @  DeepLearning.AI on Coursera</span>
                                        </div>
                                    </div>
                                </h5>
                            </li>

                        </ul>
                    </div>

                    <!-- Technical Skills -->
                    <div class="skills-section">
                        <div class="text_content">SKILLS</div>
                        <ul class="attributes skills-grid">
                            <li>
                                <h5>Programming</h5>
                                <p>Python, TensorFlow (Keras), Git, Perforce, Linux, Shell scripting</p>
                            </li>
                            <li>
                                <h5>Software</h5>
                                <p>CorelDRAWX4, Autodesk DCC series, Adobe Creative Suitcase (AE PR PS)</p>
                            </li>
                        </ul>
                    </div>
                </section>

                <!-- Portfolio Section -->
                <section id="portfolio" class="content-section active" style="display: block;">
                    <div class="projects-showcase">
                        <div class="projects-grid-4col">
                            <!-- Data Science -->
                            <div class="project-card large-project full-cover-image" onclick="openProjectDetail('datascience')" style="grid-column: span 2;">
                                <div class="project-image">
                                    <img src="portfolio/datascience/logo.jpg" alt="Data Science">
                                    <div class="project-image-overlay">
                                        <div class="project-zoom-icon">
                                            <i class="fa fa-search"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="project-info">
                                    <h3>Big Data Analysis</h3>
                                    <p>Ride Price Factors and Ride-sharing Demand Forecasting</p>
                                    <div class="project-tags">
                                        <span>Python</span>
                                        <span>ML</span>
                                        <span>Data Analysis</span>
                                    </div>
                                </div>
                            </div>

                            <!-- TreeView大项目 -->
                            <div class="project-card large-project" onclick="openProjectDetail('treeview')" style="grid-column: span 2;">
                                <div class="project-image">
                                    <img src="portfolio/treeview/logo.jpg" alt="TreeView">
                                    <div class="project-image-overlay">
                                        <div class="project-zoom-icon">
                                            <i class="fa fa-search"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="project-info">
                                    <h3>Chrome Extension: TreeView</h3>
                                    <p>Notion Database Visualization Chrome Extension</p>
                                    <div class="project-tags">
                                        <span>Product Design</span>
                                        <span>React</span>
                                    </div>
                                </div>
                            </div>

                            <!-- UCG -->
                            <div class="project-card large-project" onclick="openProjectDetail('ucg')" style="grid-column: span 2;">
                                <div class="project-image">
                                    <img src="portfolio/ucg/logo.jpg" alt="UCG微信小程序">
                                    <div class="project-image-overlay">
                                        <div class="project-zoom-icon">
                                            <i class="fa fa-search"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="project-info">
                                    <h3>UCG WeChat Mini Program</h3>
                                    <p>A WeChat Mini Program for the UAE Chinese Community</p>
                                    <div class="project-tags">
                                        <span>JavaScript</span>
                                        <span>MySQL</span>
                                        <span>Flask</span>
                                    </div>
                                </div>
                            </div>

                            <!-- 其他小项目堆叠 -->
                            <div class="small-projects-column" style="grid-column: span 2;">
                                <div class="project-card small-project" onclick="openProjectDetail('design')" style="grid-column: span 2;">
                                    <div class="project-image-small">
                                        <img src="portfolio/design/design/design_03.jpg" alt="Design Works">
                                        <div class="project-image-overlay">
                                            <div class="project-zoom-icon">
                                                <i class="fa fa-search"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="project-info-small">
                                        <h4>Visual Design</h4>
                                        <p>Graphic Portfolio</p>
                                        <div class="project-tags-small">
                                            <span>Graphic Design</span>
                                            <span>Poster Design</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="project-card small-project" onclick="openProjectDetail('charity')" style="grid-column: span 2;">
                                    <div class="project-image-small">
                                        <img src="portfolio/public_welfare/logo.jpg" alt="公益活动">
                                        <div class="project-image-overlay">
                                            <div class="project-zoom-icon">
                                                <i class="fa fa-search"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="project-info-small">
                                        <h4>Public Welfare</h4>
                                        <p>Rescue and Help</p>
                                        <div class="project-tags-small">
                                            <span>Public Welfare</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="project-card small-project" onclick="openProjectDetail('best')" style="grid-column: span 2;">
                                    <div class="project-image-small">
                                        <img src="portfolio/best/logo.jpg" alt="BEST">
                                        <div class="project-image-overlay">
                                            <div class="project-zoom-icon">
                                                <i class="fa fa-search"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="project-info-small">
                                        <h4>BEST Notion Template</h4>
                                        <p>Apple Shortcuts Budget Expense Tracker</p>
                                        <div class="project-tags-small">
                                            <span>Apple Shortcuts</span>
                                            <span>Notion Template</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 第二行：Poster 项目 -->
                        <div class="projects-grid-4col" style="margin-top: 30px;">
                            <!-- Poster 1 -->
                            <div class="project-card poster-project-small" onclick="openProjectDetail('poster1')" style="grid-column: span 3;">
                                <div class="project-image">
                                    <img src="portfolio/design/poster1.jpg" alt="Poster Design 1">
                                    <div class="project-image-overlay">
                                        <div class="project-zoom-icon">
                                            <i class="fa fa-search"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="project-info">
                                    <h3>Poster Design</h3>
                                    <div class="project-tags">
                                        <span>Graphic Design</span>
                                        <span>CorelDRAW</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Poster 2 -->
                            <div class="project-card poster-project-small" onclick="openProjectDetail('poster2')" style="grid-column: span 3;">
                                <div class="project-image">
                                    <img src="portfolio/design/poster2.jpg" alt="Poster Design 2">
                                    <div class="project-image-overlay">
                                        <div class="project-zoom-icon">
                                            <i class="fa fa-search"></i>
                                    </div>
                                    </div>
                                </div>
                                <div class="project-info">
                                    <h3>Poster Design</h3>
                                    <div class="project-tags">
                                        <span>Graphic Design</span>
                                        <span>CorelDRAW</span>
                                    </div>
                                </div>
                            </div>

                            <!-- 表情包设计 - 大项目 -->
                            <div class="project-card large-project full-cover-image" onclick="openProjectDetail('emoji')" style="grid-column: span 2;">
                                <div class="project-image">
                                    <img src="portfolio/emoji/logo.jpg" alt="表情包设计">
                                    <div class="project-image-overlay">
                                        <div class="project-zoom-icon">
                                            <i class="fa fa-search"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="project-info">
                                    <h3>Emoji Design</h3>
                                    <p>Original Emoji Design Portfolio, inspired by my fighting fish</p>
                                    <div class="project-tags">
                                        <span>CorelDRAW</span>
                                        <span>Original IP</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- About Section -->
                <section id="about" class="content-section">
                    <!-- 个人介绍卡片 -->
                    <div class="about-card personal-intro-card">
                        <div class="personal-intro-content">
                            <div class="intro-text">
                                <p>🚀 A technically grounded creative thinker bridging pipelines, product strategy, and human-centered design with a passion for innovation and public impact.</p>
                            </div>
                        </div>
                    </div>
                    <div class="about-cards">
                        <!-- 第一行第一个：技术专长 -->
                        <div class="about-card">
                            <div class="about-card-header">
                                <div class="about-card-icon">
                                    <i class="fas fa-code"></i>
                                </div>
                                <h3>Technical Expertise</h3>
                            </div>
                            <p>Specialized in AI/ML pipeline development, computer graphics, and motion capture technology. Experienced in building distributed computing systems and automation tools.</p>
                            <div class="about-card-meta">
                                <span>8+ Years Experience</span>
                                <span>Python • TensorFlow • Linux</span>
                            </div>
                        </div>

                        <!-- 第一行第二个：照片1 -->
                        <div class="about-card photo-card">
                            <div class="about-photo-container">
                                <img src="about/badminton.jpg" alt="Badminton" class="about-photo">
                            </div>
                        </div>

                        <!-- 第一行第三个: 行业经验 -->
                        <div class="about-card">
                            <div class="about-card-header">
                                <div class="about-card-icon">
                                    <i class="fas fa-film"></i>
                                </div>
                                <h3>Industry Experience</h3>
                            </div>
                            <p>Worked on major Hollywood productions including Red Notice, Aquaman, and Star Wars. Contributed to cutting-edge visual effects and pipeline development.</p>
                            <div class="about-card-meta">
                                <span>Hollywood Productions</span>
                                <span>VFX • Game • Pipeline</span>
                            </div>
                        </div>

                        <!-- 第二行第一个：照片2 -->
                        <div class="about-card photo-card">
                            <div class="about-photo-container">
                                <img src="about/singer.jpg" alt="Music Performance" class="about-photo">
                            </div>
                        </div>

                        <!-- 第二行第二个：个人理念 -->
                        <div class="about-card">
                            <div class="about-card-header">
                                <div class="about-card-icon">
                                    <i class="fas fa-lightbulb"></i>
                                </div>
                                <h3>Philosophy</h3>
                            </div>
                            <p>Passionate about bridging technology and creativity. Believe that innovation in AI/ML can revolutionize the creative industry and improve production workflows.</p>
                            <div class="about-card-meta">
                                <span>Innovation • Creativity</span>
                                <span>AI/ML • Creative Tech</span>
                            </div>
                        </div>

                        <!-- 第二行第三个：照片3 -->
                        <div class="about-card photo-card">
                            <div class="about-photo-container">
                                <img src="about/ops.jpg" alt="Operations" class="about-photo">
                            </div>
                        </div>

                        <!-- 第三行第一个：项目成就 -->
                        <div class="about-card">
                            <div class="about-card-header">
                                <div class="about-card-icon">
                                    <i class="fas fa-trophy"></i>
                                </div>
                                <h3>Project Achievements</h3>
                            </div>
                            <p>Led development of motion capture AI models achieving 20x iteration speed improvement. Built full-stack WeChat Mini Program (on it way to) serving 500+ users in UAE Chinese community.</p>
                            <div class="about-card-meta">
                                <span>20x Performance Boost</span>
                                <span>500+ Active Users</span>
                            </div>
                        </div>

                        <!-- 第三行第二个：照片4 -->
                        <div class="about-card photo-card">
                            <div class="about-photo-container">
                                <img src="about/diver.jpg" alt="Diving" class="about-photo">
                            </div>
                        </div>

                        <!-- 第三行第三个：联系方式 -->
                        <div class="about-card">
                            <div class="about-card-header">
                                <div class="about-card-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <h3>Get In Touch</h3>
                            </div>
                            <p>Always open to discussing AI/ML, computer graphics, or any technology-related topics. Feel free to reach out for collaboration opportunities!</p>
                            <div class="about-card-meta">
                                <span>Abu Dhabi, UAE</span>
                                <span>Open to Remote</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Blog Section -->
                <section id="blog" class="content-section">
                    <div class="blog-container">
                        <!-- Loading State -->
                        <div class="loading-container" id="loading" style="display: none;">
                            <div class="loading-spinner"></div>
                            <p style="margin-top: 1rem; color: #64748b;">Loading blog posts...</p>
                            <p style="margin-top: 0.5rem; color: #9ca3af; font-size: 0.875rem;">🔍 Fetching content from GitHub Issues...</p>
                        </div>

                        <!-- Error Message -->
                        <div class="error-message" id="error" style="display: none;">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span id="error-text">Failed to load blog posts</span>
                        </div>

                        <!-- Blog Posts Container -->
                        <div class="blog-posts" id="blog-posts" style="display: none;">
                            <!-- Posts will be loaded here dynamically -->
                        </div>

                        <!-- No Posts Message -->
                        <div class="no-posts" id="no-posts" style="display: block;">
                            <i class="fas fa-blog" style="font-size: 3rem; margin-bottom: 1rem; color: #e1e4e8;"></i>
                            <h3>Welcome to My Blog</h3>
                            <p>This blog is powered by GitHub Issues with the "blog" label.</p>
                            <div style="margin-top: 1rem; padding: 1rem; background: #f8fafc; border-radius: 8px; color: #64748b; font-size: 0.875rem;">
                                💡 <strong>For developers:</strong> Create GitHub Issues in this repository with the label "blog" to publish new posts.
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <script>
            // Load Widget Profile Component
            document.addEventListener('DOMContentLoaded', function() {
                // Load the widget profile component
                loadWidgetProfile();
            });

            // Navigation functionality
            document.addEventListener('DOMContentLoaded', function() {
                const navLinks = document.querySelectorAll('.nav__link');
                const sections = document.querySelectorAll('.content-section');

                navLinks.forEach(link => {
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        
                        // Remove active class from all links and sections
                        navLinks.forEach(l => l.classList.remove('active'));
                        sections.forEach(s => {
                            s.classList.remove('active');
                            s.style.display = 'none';
                        });
                        
                        // Add active class to clicked link
                        this.classList.add('active');
                        
                        // Show corresponding section
                        const targetId = this.getAttribute('href').substring(1);
                        const targetSection = document.getElementById(targetId);
                        if (targetSection) {
                            targetSection.classList.add('active');
                            targetSection.style.display = 'block';
                            
                            // If blog section is activated, load blog posts
                            if (targetId === 'blog') {
                                // Add a small delay to ensure DOM is ready
                                setTimeout(() => {
                                    loadBlogPosts();
                                }, 100);
                            }
                        }
                    });
                });
            });

            // Project detail functionality
            function openProjectDetail(projectId) {
                if (projectId === 'datascience') {
                    window.open('https://colab.research.google.com/drive/1A3DhtigtOnSK2Jkvbd3zkQkeWm7Pd1_x?usp=sharing', '_blank');
                } else if (projectId === 'best') {
                    window.open('https://www.notion.com/templates/budget-expense-smart-tracker', '_blank');
                } else if (projectId === 'poster1' || projectId === 'poster2' || projectId === 'charity') {
                    // Poster项目和公益活动暂时无跳转
                    return;
                } else if (projectId === 'design') {
                    window.open(`portfolio/design/index.html`, '_blank');
                } else if (projectId === 'treenode') {
                    window.open('https://chromewebstore.google.com/detail/notion-treeview/ckoknomfbeadbnmkppidchmhmeaflbka', '_blank');
                } else {
                    window.open(`portfolio/${projectId}/index.html`, '_blank');
                }
            }

            // Blog functionality
            // GitHub repository information
            const GITHUB_OWNER = 'kosam0913';
            const GITHUB_REPO = 'kosam0913.github.io';
            
            // DOM elements
            const loadingEl = document.getElementById('loading');
            const errorEl = document.getElementById('error');
            const errorTextEl = document.getElementById('error-text');
            const blogPostsEl = document.getElementById('blog-posts');
            const noPostsEl = document.getElementById('no-posts');

            async function loadBlogPosts() {
                try {
                    showLoading();
                
                    const apiUrl = `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/issues?state=open&sort=created&direction=desc&per_page=20`;
                    
                    const fetchResponse = await fetch(apiUrl, {
                        method: 'GET',
                        headers: {
                            'Accept': 'application/vnd.github.v3+json'
                        }
                    });
                    
                    if (!fetchResponse.ok) {
                        if (fetchResponse.status === 403) {
                            throw new Error('GitHub API rate limit exceeded. Please try again later.');
                        } else if (fetchResponse.status === 404) {
                            throw new Error('Repository not found or no issues with "blog" label exist.');
                        } else {
                            throw new Error(`GitHub API error: ${fetchResponse.status} ${fetchResponse.statusText}`);
                        }
                    }
                    
                    const data = await fetchResponse.json();
                    const filteredData = data.filter(issue => issue.labels.some(label => label.name === 'blog' || label.name === 'note'));
                    response = { data: filteredData };

                    const issues = response.data;
                    
                    if (issues.length === 0) {
                        showNoPosts();
                        return;
                    }

                    // Render blog posts
                    renderBlogPosts(issues);
                    
                    showBlogPosts();
                    
                } catch (error) {
                    console.error('Error loading blog posts:', error);
                    
                    let errorMessage = error.message;
                    
                    // 为不同类型的错误提供更有用的提示
                    if (error.message.includes('rate limit')) {
                        errorMessage += '\n\n💡 Tip: GitHub API allows 60 requests per hour for unauthenticated requests.';
                    } else if (error.message.includes('no issues with "blog" label')) {
                        errorMessage += '\n\n💡 Tip: Create GitHub Issues with the "blog" label to display them here.';
                    } else if (error.message.includes('Failed to fetch')) {
                        errorMessage = 'Network error: Please check your internet connection.';
                    }
                    showError(errorMessage);
                }
            }



            function renderBlogPosts(issues) {
                blogPostsEl.innerHTML = '';
                
                issues.forEach(issue => {
                    const postEl = createBlogPostElement(issue);
                    blogPostsEl.appendChild(postEl);
                });
            }

            function extractThumbnail(body) {
                if (!body) return null;
                
                // 提取第一张图片作为缩略图
                const imageRegex = /!\[([^\]]*)\]\(([^)]+)\)/;
                const match = body.match(imageRegex);
                
                if (match) {
                    return {
                        alt: match[1] || 'Blog thumbnail',
                        src: match[2]
                    };
                }
                
                return null;
            }

            function createBlogPostElement(issue) {
                const postEl = document.createElement('article');
                postEl.className = 'blog-post';
                
                // Extract excerpt from issue body
                const excerpt = getExcerpt(issue.body || '');
                
                // Extract thumbnail
                const thumbnail = extractThumbnail(issue.body || '');
                
                // Format date
                const createdDate = formatDate(new Date(issue.created_at));
                const updatedDate = formatDate(new Date(issue.updated_at));
                
                postEl.innerHTML = `
                    <div class="blog-post-layout">
                        <div class="blog-post-thumbnail">
                            ${thumbnail ? 
                                `<img src="${thumbnail.src}" alt="${escapeHtml(thumbnail.alt)}" class="blog-thumbnail-img">` :
                                `<div class="blog-thumbnail-placeholder">
                                    <i class="fas fa-file-alt"></i>
                                </div>`
                            }
                        </div>
                        <div class="blog-post-main">
                            <div class="blog-post-header">
                                <div class="blog-post-meta">
                                    <div class="blog-post-date">
                                        <i class="fas fa-calendar-alt"></i>
                                        <span>Published: ${createdDate}</span>
                                    </div>
                                    ${issue.updated_at !== issue.created_at ? `
                                    <div class="blog-post-date">
                                        <i class="fas fa-edit"></i>
                                        <span>Updated: ${updatedDate}</span>
                                    </div>
                                    ` : ''}
                                    <div class="blog-post-labels">
                                        ${issue.labels.map(label => 
                                            `<span class="blog-post-label" style="background: #${label.color}20; color: #${label.color};">${label.name}</span>`
                                        ).join('')}
                                    </div>
                                </div>
                                <h2 class="blog-post-title">${escapeHtml(issue.title)}</h2>
                            </div>
                            <div class="blog-post-content">
                                <div class="blog-post-excerpt">${excerpt}</div>
                            </div>
                        </div>
                    </div>
                `;
                
                // Add click handler to open issue
                postEl.addEventListener('click', (e) => {
                    window.open(issue.html_url, '_blank');
                });
                
                return postEl;
            }

            function getExcerpt(body, maxLength = 300) {
                if (!body) return 'No content preview available.';
                
                // 改进 Markdown 转换，使用更全面的正则表达式
                let plainText = body
                    // 移除代码块
                    .replace(/```[\s\S]*?```/g, '[Code Block]')
                    // 移除行内代码
                    .replace(/`([^`]+)`/g, '$1')
                    // 移除图片
                    .replace(/!\[([^\]]*)\]\([^)]+\)/g, '[Image: $1]')
                    // 移除链接，保留文本
                    .replace(/\[([^\]]+)\]\([^)]+\)/g, '$1')
                    // 移除粗体
                    .replace(/\*\*([^*]+)\*\*/g, '$1')
                    // 移除斜体
                    .replace(/\*([^*]+)\*/g, '$1')
                    // 移除标题标记
                    .replace(/#{1,6}\s+/g, '')
                    // 移除引用
                    .replace(/>\s+/g, '')
                    // 移除列表标记
                    .replace(/^\s*[-*+]\s+/gm, '')
                    // 移除数字列表
                    .replace(/^\s*\d+\.\s+/gm, '')
                    // 替换多个换行为空格
                    .replace(/\n+/g, ' ')
                    // 移除多余空格
                    .replace(/\s+/g, ' ')
                    .trim();
                
                if (plainText.length <= maxLength) {
                    return plainText;
                }
                
                // 在单词边界截断，避免截断单词
                const truncated = plainText.substring(0, maxLength);
                const lastSpaceIndex = truncated.lastIndexOf(' ');
                
                if (lastSpaceIndex > maxLength * 0.8) {
                    return truncated.substring(0, lastSpaceIndex) + '...';
                }
                
                return truncated + '...';
            }

            function formatDate(date) {
                return date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
            }

            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            function showLoading() {
                loadingEl.style.display = 'block';
                errorEl.style.display = 'none';
                blogPostsEl.style.display = 'none';
                noPostsEl.style.display = 'none';
            }

            function showError(message) {
                errorTextEl.textContent = message;
                loadingEl.style.display = 'none';
                errorEl.style.display = 'block';
                blogPostsEl.style.display = 'none';
                noPostsEl.style.display = 'none';
            }

            function showBlogPosts() {
                loadingEl.style.display = 'none';
                errorEl.style.display = 'none';
                blogPostsEl.style.display = 'grid';
                noPostsEl.style.display = 'none';
            }

            function showNoPosts() {
                loadingEl.style.display = 'none';
                errorEl.style.display = 'none';
                blogPostsEl.style.display = 'none';
                noPostsEl.style.display = 'block';
            }
        </script>

    </body>

    <script>
        window.addEventListener('DOMContentLoaded', function () {
            window.loadWidgetProfile({
                basePath: './',
                componentPath: './assets/components/widget-profile.html'
            });
        });
    </script>
</html>
